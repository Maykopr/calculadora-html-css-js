(()=>{var c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var u=c((exports,module)=>{var currentValue=document.querySelector("#screen-current"),previousValue=document.querySelector("#screen-previous"),operators=["-","+","*","/"],btnPlus=document.querySelector("#plus"),btnMinus=document.querySelector("#minus"),btnTimes=document.querySelector("#times"),btnDivisor=document.querySelector("#division"),btnPercent=document.querySelector("#percent"),btnDot=document.querySelector("#dot"),btnEqual=document.querySelector("#equal"),btnCleaner=document.querySelector("#clean"),btnBackspaceBtn=document.querySelector("#backspace"),numbers=document.querySelectorAll(".button-pad__btn--number");btnPercent.onclick=calculatePercentage;btnPlus.onclick=()=>filterOperator("+");btnMinus.onclick=()=>filterOperator("-");btnTimes.onclick=()=>filterOperator("*");btnDivisor.onclick=()=>filterOperator("/");btnDot.onclick=()=>filterDot(",");btnEqual.onclick=result;btnCleaner.onclick=clean;btnBackspaceBtn.onclick=backspace;numbers.forEach(t=>t.addEventListener("click",()=>insert(t.textContent)));function insert(t){currentValue.textContent.length>20||(currentValue.textContent==="0"&&!operators.includes(t)?currentValue.textContent=t:currentValue.textContent+=t)}function clean(){currentValue.textContent==="0"&&(previousValue.textContent=""),currentValue.textContent="0"}function backspace(){currentValue.textContent&&(currentValue.textContent=currentValue.textContent.slice(0,-1))}function result(){currentValue.textContent!=="ERRO"&&(tryEval(currentValue.textContent),previousValue.textContent=currentValue.textContent)}function tryEval(expression){let expressionFilterd=expression.replaceAll(",",".");try{currentValue.textContent=eval(expressionFilterd).toString().replaceAll(".",",")}catch{currentValue.textContent="ERRO"}}function filterDot(t){let e=currentValue.textContent.split(new RegExp("[-+*/]"));e[e.length-1].includes(t)||insert(t)}function filterOperator(t){let e=currentValue.textContent[currentValue.textContent.length-1];e!==t&&(operators.includes(e)?currentValue.textContent=currentValue.textContent.slice(0,-1)+t:insert(t))}function calculatePercentage(){let inputString=currentValue.textContent.replaceAll(",","."),inputArray=inputString.match(/(\d+(?:\.\d+)?)|([+\-\*\/])/g),{length}=inputArray,baseString=inputArray.slice(0,length-2).join(""),baseValue=eval(baseString),operator=inputArray[length-2],percentageValue=inputArray[length-1],result=calculatePercentageValue(baseValue,operator,percentageValue);currentValue.textContent=result.toString().replaceAll(".",","),previousValue.textContent=currentValue.textContent}function calculatePercentageValue(t,e,r){if(!t)return+r/100;let n=+t;if(e==="+")return n+n*r/100;if(e==="-")return n-n*r/100;if(e==="*")return n*r/100;if(e==="/")return n/r*100}});u();})();
